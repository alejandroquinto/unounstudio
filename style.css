/* ===== THEME ===== */
:root{
  --brand:#004E41;
  --accent:#0a8f6e;

  --bg:#ffffff;
  --surface:#ffffff;
  --ink:#171717;
  --muted:#6f6f6f;
  --line:#e3e4e4;

  --card:#ffffff;
  --card-border:#e3e4e4;

  --touch:44px; /* min touch target */
}
body.lux{
  --bg:#0b0f0e;
  --surface:#0f1312;
  --ink:#e7ecea;
  --muted:#9fb0aa;
  --line:#1b2422;

  --card:#111516;
  --card-border:#1c2422;
}

*{box-sizing:border-box}
html,body{
  margin:0;padding:0;
  font-family:'Manrope',system-ui,Segoe UI,Roboto,Helvetica,Arial,sans-serif;
  background:var(--bg);color:var(--ink);
  scroll-behavior:smooth;
}
a,button{ -webkit-tap-highlight-color: rgba(0,0,0,0); }
body.no-scroll{ overflow:hidden; }

/* Keep anchors clear of fixed header */
section{ scroll-margin-top: 92px; }

/* ===== HEADER ===== */
.header{
  position:fixed; inset:0 0 auto 0; height:72px;
  display:flex; align-items:center; justify-content:space-between;
  padding:0 18px; background:color-mix(in oklab, var(--surface), transparent 6%);
  border-bottom:1px solid var(--line); backdrop-filter: blur(6px); z-index:1000;
}
.brand img{height:34px; display:block}
.header-actions{display:flex; gap:10px; align-items:center}
.theme-toggle{
  border:1px solid var(--line); background:var(--surface); color:var(--ink);
  padding:8px 12px; border-radius:999px; cursor:pointer; font-weight:800; line-height:1;
  min-height:var(--touch);
}
.theme-toggle:hover{border-color:color-mix(in oklab, var(--brand), white 40%)}
.menu-toggle{display:none; background:none; border:0; cursor:pointer; padding:8px; min-height:var(--touch)}
.menu-toggle span{display:block; width:26px; height:2px; background:var(--ink); margin:5px 0}
.nav ul{list-style:none; display:flex; gap:28px; margin:0; padding:0}
.nav a{color:var(--ink); text-decoration:none; font-weight:800; letter-spacing:.01em; position:relative}
.nav a::after{content:""; position:absolute; left:0; right:100%; height:2px; bottom:-6px; background:var(--brand); transition:.25s}
.nav a:hover::after{right:0}

/* ===== Header submenu (Apps) ===== */
.nav .has-sub{ position:relative; }
.nav .sub-toggle{
  font: inherit;
  font-weight: 800;
  letter-spacing:.01em;
  background: none;
  border: 0;
  color: var(--ink);
  cursor: pointer;
  padding: 8px 0;
  display: inline-flex;
  align-items: center;
  gap: 6px;
}
.nav .caret{ font-size: .9em; opacity: .7; }
.nav .submenu{
  position: absolute;
  right: 0;
  top: calc(100% + 10px);
  display: none;
  min-width: 240px;
  background: var(--surface);
  border: 1px solid var(--line);
  border-radius: 12px;
  padding: 8px;
  box-shadow: 0 12px 28px rgba(0,0,0,.18);
  z-index: 1001;
}
.nav .submenu a{
  display:block;
  padding:10px 12px;
  border-radius:8px;
  color:var(--ink);
  text-decoration:none;
}
.nav .submenu a:hover{ background: color-mix(in oklab, var(--surface), black 6%); }
.nav .has-sub.open > .submenu,
.nav .has-sub:focus-within > .submenu{ display:block; }

/* ===== HERO ===== */
.hero{position:relative; min-height:560px; height:92vh; display:flex; align-items:flex-end}
.hero--fixed{
  background:url('assets/pexels-pixabay-270549.jpg') center/cover no-repeat;
  background-attachment:fixed;
}
.hero--fixed::before{
  content:""; position:absolute; inset:0;
  background:
    linear-gradient(180deg, rgba(0,0,0,.2), rgba(0,0,0,.65)),
    radial-gradient(80% 60% at 15% 10%, rgba(0,78,65,.55), transparent 60%);
  mix-blend-multiply;
}
/* hero text elevated a bit */
.hero--intro .hero-inner{
  position:relative; z-index:2; color:#fff;
  max-width:1200px; width:100%;
  padding:0 24px;
  margin: 0 auto clamp(64px, 11vh, 180px);
}
.studio-tag{opacity:.92; margin:0 0 8px; letter-spacing:.04em}
.hero--intro h1{
  margin:0; font-weight:900; font-size:clamp(40px, 9.4vw, 120px);
  line-height:.95; letter-spacing:-.02em
}
.brand-underline{box-shadow:inset 0 -0.28em rgba(0,78,65,.45); color:#eaf8f3}
.meta-bar{
  position:absolute; left:0; right:0; bottom:0; z-index:2;
  display:grid; grid-template-columns:1fr 2fr 1fr; gap:10px; align-items:center;
  color:#fff; padding:10px 24px 14px; font-size:12.5px; letter-spacing:.03em; opacity:.92;
  border-top:1px solid rgba(255,255,255,.18)
}
.meta-left{text-align:left} .meta-center{text-align:center; opacity:.9} .meta-right{text-align:right}

/* ===== ABOUT ===== */
.about{padding:48px 18px 10px; border-top:1px solid var(--line); background:var(--surface)}
.about-intro{max-width:1200px; margin:0 auto; padding:0 6px 18px; text-align:center; font-size:clamp(18px, 3vw, 28px); line-height:1.35}
.about-columns{max-width:1200px; margin:0 auto 12px; padding:0 6px; display:grid; grid-template-columns: 1.4fr .8fr; gap:24px}
.about-copy{ color:var(--muted); font-size:15.5px; line-height:1.8 }
.link{color:var(--brand); font-weight:800; text-decoration:none}
.link:hover{color:color-mix(in oklab, var(--brand), white 25%)}

/* ===== SECTIONS ===== */
.section{padding:96px 18px 80px; border-top:1px solid var(--line); background:var(--surface)}
.section-head{max-width:1100px; margin:0 auto 14px; padding:0 6px}
.section-head h2{font-size:clamp(22px,4.5vw,42px); margin:0 0 6px}
.section-head p{color:var(--muted); margin:0}

/* ===== DEVICE CARDS (Capabilities) ===== */
.cap-grid{display:grid; grid-template-columns:repeat(4,1fr); gap:18px; max-width:1200px; margin:16px auto 0; padding:0 6px}
.cap-grid--devices .device-card{
  position:relative; display:block; text-decoration:none; color:#fff;
  height:360px; border-radius:22px; overflow:hidden;
  border:1px solid color-mix(in oklab, #fff, transparent 85%);
  background:linear-gradient(180deg, rgba(255,255,255,.06), rgba(255,255,255,.02));
  box-shadow: 0 24px 60px rgba(0,0,0,.26), inset 0 1px 0 rgba(255,255,255,.15);
  transition: transform .35s cubic-bezier(.2,.65,.2,1), box-shadow .35s, border-color .35s;
}
.cap-grid--devices .device-card:hover{ transform: translateY(-8px); box-shadow: 0 36px 90px rgba(0,0,0,.32); border-color: color-mix(in oklab, var(--brand), white 40%); }
.device-lines{position:absolute; inset:0; background:
  repeating-linear-gradient(90deg, rgba(255,255,255,.06) 0 1px, transparent 1px 120px),
  repeating-linear-gradient(0deg, rgba(255,255,255,.04) 0 1px, transparent 1px 120px);}
.device-bg{position:absolute; inset:-20% -10% -10% -10%; filter:blur(22px) saturate(115%); opacity:.9}
.device-a .device-bg{background:radial-gradient(40% 60% at 20% 20%, #8ae4c9, transparent 60%), radial-gradient(50% 60% at 80% 80%, #1a8a72, transparent 55%), linear-gradient(180deg, rgba(0,0,0,.0), rgba(0,0,0,.25));}
.device-b .device-bg{background:radial-gradient(40% 60% at 20% 20%, #6fe0ff, transparent 60%), radial-gradient(50% 60% at 80% 80%, #0f7a66, transparent 55%), linear-gradient(180deg, rgba(0,0,0,.0), rgba(0,0,0,.25));}
.device-c .device-bg{background:radial-gradient(40% 60% at 20% 20%, #e7cfff, transparent 60%), radial-gradient(50% 60% at 80% 80%, #277b6e, transparent 55%), linear-gradient(180deg, rgba(0,0,0,.0), rgba(0,0,0,.25));}
.device-d .device-bg{background:radial-gradient(40% 60% at 20% 20%, #ffd2b8, transparent 60%), radial-gradient(50% 60% at 80% 80%, #0b5c4e, transparent 55%), linear-gradient(180deg, rgba(0,0,0,.0), rgba(0,0,0,.25));}
.device-index{position:absolute; top:12px; right:14px; z-index:2; font-weight:800; font-size:12px; color:rgba(255,255,255,.85); letter-spacing:.08em}
.device-content{
  position:absolute; inset:auto 12px 12px 12px; z-index:2;
  backdrop-filter: blur(6px) saturate(120%); -webkit-backdrop-filter: blur(6px) saturate(120%);
  background:linear-gradient(180deg, rgba(16,20,19,.55), rgba(16,20,19,.35));
  border:1px solid color-mix(in oklab, #fff, transparent 80%); color:#f6fbf9;
  padding:14px; border-radius:14px;
}
.device-kicker{font-weight:900; font-size:12px; opacity:.9; margin-bottom:4px}
.device-content h3{margin:0 0 6px; font-size:18px; line-height:1.25}
.device-content p{margin:0 0 10px; font-size:13.5px; color:#d9eee8}

/* Inline capability tags */
.cap-tags{
  margin:10px 0 0; padding-top:10px;
  font-size:12.5px; line-height:1.45; letter-spacing:.01em;
  color:#d8eee8;
  border-top:1px solid color-mix(in oklab, #fff, transparent 78%);
  text-wrap:balance;
}

/* ===== GIANT MARKER ===== */
.giant-title{
  font-weight:900; color:var(--ink); opacity:.08;
  font-size: clamp(64px, 18vw, 220px); line-height:1; letter-spacing:-.02em;
  padding:18px 18px 6px; user-select:none; border-top:1px solid var(--line); background:var(--surface)
}

/* ===== WORK â€” big-image grid with grain + fade ===== */
.work-grid{
  display:grid; grid-template-columns:repeat(auto-fit, minmax(260px, 1fr));
  gap:22px; max-width:1200px; margin:12px auto 0; padding:0 6px;
}
.work-card{
  position:relative; overflow:hidden; border-radius:20px;
  background:var(--card); border:1px solid var(--card-border);
  box-shadow:0 12px 28px rgba(0,0,0,.22); transform:translateZ(0);
  transition:transform .35s cubic-bezier(.2,.65,.2,1), box-shadow .35s, border-color .35s;
}
/* grain */
.work-card::before{
  content:""; position:absolute; inset:0; z-index:1; pointer-events:none;
  background-image:url("data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' width='400' height='400' viewBox='0 0 400 400'><filter id='n'><feTurbulence type='fractalNoise' baseFrequency='0.9' numOctaves='2' stitchTiles='stitch'/></filter><rect width='100%' height='100%' filter='url(%23n)' opacity='0.035'/></svg>");
  background-size:400px 400px; mix-blend-mode:overlay;
}
/* vignette */
.work-card::after{
  content:""; position:absolute; inset:0; z-index:1; pointer-events:none;
  background:
    radial-gradient(140% 100% at 50% 0%, rgba(0,0,0,.18), transparent 50%),
    linear-gradient(180deg, rgba(0,0,0,0) 60%, rgba(0,0,0,.28) 100%);
  opacity:.85;
}
.work-card img{
  position:relative; z-index:0; width:100%; height:100%; aspect-ratio:1/1;
  object-fit:cover; display:block; transform:scale(1.02);
  transition:transform .6s cubic-bezier(.2,.65,.2,1), filter .35s;
  filter:saturate(102%);
}
.work-card:hover{ transform:translateY(-8px); box-shadow:0 26px 60px rgba(0,0,0,.35); border-color:color-mix(in oklab, var(--brand), white 40%); }
.work-card:hover img{ transform:scale(1.06); }

/* ===== APPS / EDITORIAL GRID ===== */
.editorial-grid{
  max-width:1200px; margin:10px auto 60px; padding:0 12px;
  display:grid; grid-template-columns:repeat(3,1fr); gap:22px
}
.editorial-card{
  position:relative;
  border:1px solid var(--card-border); border-radius:12px; overflow:hidden;
  background:var(--card); display:flex; flex-direction:column;
  transition:box-shadow .25s, transform .25s, border-color .25s
}
.editorial-card:hover{
  transform:translateY(-4px);
  box-shadow:0 14px 30px rgba(0,0,0,.18);
  border-color:color-mix(in oklab, var(--brand), white 40%)
}
.editorial-thumb img{display:block; width:100%; height:auto}
.editorial-meta{padding:14px}
.editorial-meta .eyebrow{font-size:12px; color:color-mix(in oklab, var(--brand), white 25%); letter-spacing:.06em}
.editorial-meta h4{margin:6px 0 6px}
.editorial-meta h4 a{color:var(--ink); text-decoration:none}
.editorial-meta h4 a:hover{color:var(--brand)}
.editorial-meta p{color:var(--muted); margin:0}

/* Coming soon state */
.editorial-card.disabled .editorial-thumb{ position:relative; }
.editorial-card.disabled .editorial-thumb::after{
  content:""; position:absolute; inset:0; background:linear-gradient(180deg, rgba(0,0,0,.05), rgba(0,0,0,.25));
}
.editorial-card.disabled a{ pointer-events:none; }
.badge.soon{
  position:absolute; top:10px; left:10px;
  background:color-mix(in oklab, var(--brand), white 20%);
  color:#fff; font-weight:800; font-size:12px; letter-spacing:.05em;
  padding:6px 10px; border-radius:999px;
  box-shadow:0 6px 14px rgba(0,0,0,.18);
}

/* ===== CONTACT ===== */
.contact-only{max-width: 1100px; margin: 8px auto 0; padding: 0 6px}
.contact-only h4{ margin: 0 0 6px; }

/* ===== PAGES / CASE (for other pages) ===== */
.page{padding-top:92px; background:var(--surface)}
.page-hero{padding:72px 18px 16px; text-align:center}
.page-hero h1{font-size:clamp(28px,6vw,56px); margin:0}
.page-hero .lede{max-width:860px; margin:10px auto 0; color:var(--muted)}
.soft-grid{background:color-mix(in oklab, var(--surface), white 4%)}

.case{padding-top:72px}
.case-hero{position:relative; min-height:420px; background-size:cover; background-position:center}
.case-hero__overlay{position:absolute; inset:0; background:linear-gradient(180deg,rgba(0,0,0,.2),rgba(0,0,0,.65))}
.case-hero__inner{position:relative; z-index:2; color:#fff; max-width:1100px; margin:0 auto; padding:80px 18px}
.case-hero h1{margin:0 0 8px; font-size:clamp(28px,6vw,56px)}
.case-hero .meta{list-style:none; display:flex; gap:18px; padding:0; margin:8px 0 0; flex-wrap:wrap}
.case-hero .meta li{opacity:.9}
.case-body{max-width:1100px; margin:0 auto 60px; padding:0 18px}
.case-cols{display:grid; grid-template-columns:1.25fr .75fr; gap:24px; align-items:start; margin-top:-40px; background:var(--surface); border-radius:14px; border:1px solid var(--line); padding:18px}
.case-cols h3{margin:10px 0 6px}
.bullets{margin:0; padding-left:18px}
.stack h4{margin:8px 0 6px}
.stack ul{margin:0 0 10px 18px}
.project-images{display:flex; gap:16px; flex-wrap:wrap; justify-content:center; margin-top:18px}
.project-images img{width:46%; min-width:260px; border-radius:10px; box-shadow:0 8px 18px rgba(0,0,0,.22); background:var(--card); border:1px solid var(--card-border)}
.case-cta{text-align:center; margin:26px 0}
.button{display:inline-block; background:var(--brand); color:#fff; padding:12px 18px; border-radius:999px; text-decoration:none; font-weight:800; border:2px solid transparent}
.button:hover{background:color-mix(in oklab, var(--brand), white 15%)}
.button.ghost{background:transparent; border-color:var(--brand); color:var(--brand)}
.button.ghost:hover{border-color:color-mix(in oklab, var(--brand), white 25%); color:color-mix(in oklab, var(--brand), white 25%)}

/* ===== FOOTER ===== */
.footer{border-top:1px solid var(--line); padding:28px 18px 40px; text-align:center; background:var(--surface)}
.footer-logo{height:32px; margin-bottom:6px}

/* ===== RESPONSIVE ===== */
@media (max-width: 1200px){
  .cap-grid{grid-template-columns:repeat(2,1fr)}
}

@media (max-width: 960px){
  .meta-bar{ grid-template-columns: 1fr; text-align:center; gap:4px; }
  .about-columns{ grid-template-columns: 1fr; }
  .editorial-grid{grid-template-columns:repeat(2,1fr)}
  /* show submenu inline on mobile drawer */
  .nav .has-sub{ width:100%; }
  .nav .sub-toggle{ width:100%; text-align:left; padding:10px 0; }
  .nav .submenu{
    position: static; display:none; box-shadow:none;
    border:0; padding: 6px 0 0; margin-left: 8px;
  }
  .nav .submenu a{ padding:10px 0; }
  .nav .has-sub.open > .submenu{ display:block; }
}

/* Mobile-first improvements */
@media (max-width: 720px){
  section{ scroll-margin-top: 76px; }

  .header{height:64px; padding:0 14px}
  .brand img{height:30px}
  .menu-toggle{display:block}

  /* Full-screen mobile menu */
  .nav{
    position:fixed; top:64px; left:0; right:0; bottom:0;
    background:color-mix(in oklab, var(--surface), black 6%);
    border-top:1px solid var(--line);
    padding:20px 18px;
    opacity:0; pointer-events:none; transform:translateY(-8px);
    transition:.25s;
  }
  .nav.open{opacity:1; pointer-events:auto; transform:none}
  .nav ul{flex-direction:column; gap:18px}
  .nav a{font-size:clamp(18px,5vw,26px)}

  /* Hero on mobile */
  .hero{height:78vh}
  .hero--fixed{ background-attachment:scroll; }

  /* Capability cards */
  .cap-grid{grid-template-columns:1fr; gap:14px}
  .cap-grid--devices .device-card{height:320px}
  .device-content{padding:12px}
  .cap-tags{font-size:12px}

  /* Work grid */
  .work-grid{grid-template-columns:1fr}
  .work-card img{ aspect-ratio: 4 / 3; }
  .work-card::before{ display:none; }
  .work-card::after{ opacity:.65; }

  /* Editorial cards */
  .editorial-grid{grid-template-columns:1fr}
}

/* Motion safety */
@media (prefers-reduced-motion: reduce){
  *{transition:none !important; animation:none !important}
}
